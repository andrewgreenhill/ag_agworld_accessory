(this.webpackJsonpag_agworld_accessory=this.webpackJsonpag_agworld_accessory||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var r=a(1),l=a.n(r),s=a(6),n=a.n(s),i=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,16)).then((function(t){var a=t.getCLS,r=t.getFID,l=t.getFCP,s=t.getLCP,n=t.getTTFB;a(e),r(e),l(e),s(e),n(e)}))},c=a(2),o=a(0);var u=function(e){var t=e.title,a=e.setUserId,l=e.userName,s=e.setUserName,n=e.setThumbURL,i=Object(r.useState)("notSecret"),u=Object(c.a)(i,2),d=u[0],p=u[1];return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"loginBox",children:[Object(o.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/6791849?v=4",className:"loginIcon"}),Object(o.jsx)("header",{children:Object(o.jsx)("h1",{children:t})}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"userName",children:"User Name"}),Object(o.jsx)("input",{type:"text",name:"userName",value:l,onChange:function(e){return s(e.target.value)},className:"CredentialsInput",required:!0})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"password",children:"Password"}),Object(o.jsx)("input",{type:"password",name:"password",value:d,onChange:function(e){return p(e.target.value)},className:"CredentialsInput",required:!0})]}),Object(o.jsx)("button",{className:"LoginButton",onClick:function(){fetch("https://randomuser.me/api/?results=1",{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=e.results[0].name;if(!t)throw console.error("Error: failed to get randomUserName"),"Error: failed to get randomUserName";"example user"===l.toLowerCase()&&s(t.first+" "+t.last),n(e.results[0].picture.thumbnail);var r=parseInt(e.results[0].id.value)||1;a(r)})).catch((function(){return console.error("Error: tryToLogIn() failed!")}))},children:"LOG IN >"}),Object(o.jsx)("div",{children:Object(o.jsx)("a",{className:"CredentialsInput",href:"javascript:alert('Password reset is not yet implemented. Please contact Andrew.');",children:"Forgotten your password?"})})]})]})})},d=a(3),p=a.n(d);var m=function(e){var t=e.title,a=e.companyName,r=e.thumbURL;return Object(o.jsxs)("div",{className:"TopBarBox",children:[Object(o.jsx)("img",{src:"https://avatars0.githubusercontent.com/u/6791849?v=4",className:"topBarIcon"}),Object(o.jsxs)("span",{className:"topBarTitle",children:[" ",t," "]}),Object(o.jsxs)("span",{className:"topBarCompanyName",children:[" ",a," "]}),Object(o.jsx)("img",{src:r,className:"avatar"}),Object(o.jsx)("span",{className:"topBarCredit",children:"By Andrew Greenhill"})]})};var h=function(e){var t=e.setCurrentPage;return Object(o.jsx)("div",{children:Object(o.jsxs)("button",{className:"buttonWeather",onClick:function(){return t("weather")},children:[" ","Weather"," "]})})},b=a(4);var j=function(e){var t=e.farms,a=e.fields,l=e.setWeatherForField,s=Object(r.useState)({}),n=Object(c.a)(s,2),i=n[0],u=n[1],d={};for(var p in Object.keys(t).forEach((function(e){d[e]=[]})),a)d[a[p].attributes.farm_id].push(a[p]);var m=!1,h=Object(b.a)({},i);for(var j in t)void 0===h[j]&&(h[j]=!1,m=!0);m&&u(Object(b.a)({},h));var _=[];for(var f in t)_.push(Object(o.jsx)("div",{children:g(f)},f));function g(e){var a=Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("button",{onClick:function(){return function(e){var t=Object(b.a)({},i);t[e]=!t[e],u(Object(b.a)({},t)),l()}(e)},children:(i[e]?"\u02c5 ":"\u02c3 ")+t[e].attributes.description})});if(!i[e])return a;var r=d[e].map((function(e){return Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:function(){l(e.id)},children:e.attributes.description})},e.id)}));return Object(o.jsxs)(o.Fragment,{children:[a,r.length>0?Object(o.jsx)("div",{children:r}):Object(o.jsx)("div",{children:"No fields"})]})}return Object(o.jsx)("div",{children:_})};function _(e){return fetch("https://cors-anywhere-ag.herokuapp.com/http://www.bom.gov.au/fwo/"+e+".json",{method:"GET",headers:{"Cache-Control":"no-cache","User-Agent":"andrewgggg",Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8","Upgrade-Insecure-Requests":"1"}}).then((function(e){return e.json()}))}var f=_;var g=function(e){return e.slice(0,4)+"-"+e.slice(4,6)+"-"+e.slice(6,8)+"T"+e.slice(8,10)+":"+e.slice(10,12)+":"+e.slice(12,14)};var x=function(e){var t=e.field,a=Object(r.useState)(),l=Object(c.a)(a,2),s=l[0],n=l[1],i=Object(r.useState)(""),u=Object(c.a)(i,2),d=u[0],p=u[1],m=Object(r.useState)(""),h=Object(c.a)(m,2),b=h[0],j=h[1],_=Object(r.useState)(""),x=Object(c.a)(_,2),v=x[0],O=x[1],y=Object(r.useState)(""),F=Object(c.a)(y,2),N=F[0],W=F[1],T=Object(r.useState)(""),w=Object(c.a)(T,2),S=w[0],k=w[1],L=Object(r.useState)(""),I=Object(c.a)(L,2),C=I[0],D=I[1],U=Object(r.useState)(""),P=Object(c.a)(U,2),A=P[0],B=P[1],R=Object(r.useState)(""),E=Object(c.a)(R,2),G=E[0],z=E[1],q=Object(r.useState)(""),H=Object(c.a)(q,2),M=H[0],J=H[1];return s!==t.id&&(p(""),j(""),O(""),W(""),k(""),D(""),B(""),z(""),J(""),t.attributes.weatherStation?f(t.attributes.weatherStation).then((function(e){var t=e.observations.data[0];p(t.name),j(new Date(g(t.local_date_time_full))),O(t.wind_spd_kmh),W(t.wind_dir),k(t.delta_t),D(t.air_temp),B(t.gust_kmh),z(t.rel_hum),J(t.weather)})):p("Not configured for this field"),n(t.id)),Object(o.jsxs)(o.Fragment,{children:[t.attributes.description,Object(o.jsx)("p",{}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"WeatherStation",hidden:!0,className:"WeatherFormLabel",children:"Weather Station"}),Object(o.jsx)("input",{type:"text",name:"WeatherStation",readOnly:!0,value:t.attributes.weatherStation,className:"WeatherFormText",hidden:!0})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"StationName",className:"WeatherFormLabel",children:"Station Name"}),Object(o.jsx)("input",{type:"text",name:"StationName",readOnly:!0,value:d,className:"WeatherFormText"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"ObservTime",className:"WeatherFormLabel",children:"Observation time"}),Object(o.jsx)("input",{type:"text",name:"ObservTime",readOnly:!0,value:b,className:"WeatherFormText"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"WindSpeed",className:"WeatherFormLabel",children:"Wind Speed"}),Object(o.jsx)("input",{type:"text",name:"WindSpeed",readOnly:!0,value:v,className:"WeatherFormText"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"WindDirection",className:"WeatherFormLabel",children:"Wind Direction"}),Object(o.jsx)("input",{type:"text",name:"WindDirection",readOnly:!0,value:N,className:"WeatherFormText"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"DeltaT",className:"WeatherFormLabel",children:"Delta T"}),Object(o.jsx)("input",{type:"text",name:"DeltaT",readOnly:!0,value:S,className:"WeatherFormText"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"Temperature",className:"WeatherFormLabel",children:"Temperature"}),Object(o.jsx)("input",{type:"text",name:"Temperature",readOnly:!0,value:C,className:"WeatherFormText"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"WindGustSpeed",className:"WeatherFormLabel",children:"Wind Gust Speed"}),Object(o.jsx)("input",{type:"text",name:"WindGustSpeed",readOnly:!0,value:A,className:"WeatherFormText"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"Humidity",className:"WeatherFormLabel",children:"Humidity"}),Object(o.jsx)("input",{type:"text",name:"Humidity",readOnly:!0,value:G,className:"WeatherFormText"})]}),Object(o.jsxs)("div",{children:[Object(o.jsx)("label",{htmlFor:"WeatherConditions",className:"WeatherFormLabel",children:"Weather Conditions"}),Object(o.jsx)("input",{type:"text",name:"WeatherConditions",readOnly:!0,value:M,className:"WeatherFormText"})]})]})};var v=function(e){var t=e.farms,a=e.fields,l=e.setCurrentPage,s=e.companyName,n=Object(r.useState)(),i=Object(c.a)(n,2),u=i[0],d=i[1];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"GetWeatherData",children:"Get Weather Data"}),Object(o.jsx)("button",{className:"GetWeatherDataX",onClick:function(){return l("")},children:"X"})]}),Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{className:"WeatherFarmsFields",children:[Object(o.jsx)("span",{children:s}),Object(o.jsx)("p",{}),Object(o.jsx)(j,{farms:t,fields:a,setWeatherForField:d})]}),Object(o.jsxs)("span",{className:"WeatherObservation",children:[Object(o.jsx)("div",{children:"Weather Observation"}),u?Object(o.jsx)(x,{field:a[u]}):""]})]})]})};var O=function(e){var t=e.title,a=e.userName,l=e.thumbURL,s=e.company,n=e.farms,i=e.fields,u=s.attributes.name,d=Object(r.useState)(""),p=Object(c.a)(d,2),b=p[0],j=p[1],_=Object(o.jsx)(o.Fragment,{});return Object(r.useEffect)((function(){return console.log(a)}),[a]),_="weather"===b?Object(o.jsx)(v,{farms:n,fields:i,setCurrentPage:j,companyName:u}):Object(o.jsx)(o.Fragment,{}),Object(o.jsxs)("div",{children:[Object(o.jsx)(m,{title:t,companyName:u,thumbURL:l}),Object(o.jsx)(h,{setCurrentPage:j}),_]})};function y(e){var t,a=e.title,l=e.userId,s=e.userName,n=e.thumbURL,i=Object(r.useState)(),u=Object(c.a)(i,2),d=u[0],p=u[1],h=Object(r.useState)(),b=Object(c.a)(h,2),j=b[0],_=b[1],f=Object(r.useState)(),g=Object(c.a)(f,2),x=g[0],v=g[1],y=Object(r.useState)(!0),F=Object(c.a)(y,2),N=F[0],W=F[1],T=Object(r.useState)(!0),w=Object(c.a)(T,2),S=w[0],k=w[1],L=Object(r.useState)(!0),I=Object(c.a)(L,2),C=I[0],D=I[1];return N&&l&&(!function(e,t){setTimeout((function(e){t({id:"987124",type:"companies",links:{self:"http://example.org/user_api/v1/companies/987124"},attributes:{business_identifier:"124",business_structure:null,company_type:"Farmer",contact_email:"farmer.jim@farmingproductions.com",contact_name:"Farmer Jim",created_at:"2011-06-15T10:30:00.000+08:00",description:null,name:"Farming Productions",physical_location:{number:null,street:null,suburb:null,city:null,county:null,state:null,postcode:null,country:"Australia",latitude:-29.0779350143255,longitude:133.664062768221},postal_location:{number:null,street:null,suburb:null,city:null,county:null,state:null,postcode:null,country:null,latitude:null,longitude:null},state_name:null,account_number:"12345678",updated_at:"2011-06-15T10:30:00.000+08:00"},relationships:{activities:{links:{self:"http://example.org/user_api/v1/companies/987124/relationships/activities",related:"http://example.org/user_api/v1/companies/987124/activities"}},farms:{links:{self:"http://example.org/user_api/v1/companies/987124/relationships/farms",related:"http://example.org/user_api/v1/companies/987124/farms"}},seasons:{links:{self:"http://example.org/user_api/v1/companies/987124/relationships/seasons",related:"http://example.org/user_api/v1/companies/987124/seasons"}}}})}),100+500*Math.random())}(0,p),W(!1)),S&&d&&(!function(e,t){setTimeout((function(e){t({987613:{id:"987613",type:"farms",links:{self:"http://example.org/user_api/v1/farms/987613"},attributes:{company_id:987124,created_at:"2011-06-15T10:30:00.000+08:00",description:"Home Farm",location:{number:null,street:null,suburb:null,city:null,county:null,state:"Western Australia",postcode:null,country:"Australia",latitude:-29.0779350143255,longitude:133.665562768221},name:"Farm 1",reporting_region:"Farm 1",updated_at:"2011-06-15T10:30:00.000+08:00"},relationships:{company:{links:{self:"http://example.org/user_api/v1/farms/987613/relationships/company",related:"http://example.org/user_api/v1/farms/987613/company"}},fields:{links:{self:"http://example.org/user_api/v1/farms/987613/relationships/fields",related:"http://example.org/user_api/v1/farms/987613/fields"}}}},987614:{id:"987614",type:"farms",links:{self:"http://example.org/user_api/v1/farms/987614"},attributes:{company_id:987124,created_at:"2011-06-15T10:30:00.000+08:00",description:"Orchard",location:{number:null,street:null,suburb:null,city:null,county:null,state:"Western Australia",postcode:null,country:"Australia",latitude:-29.0779350143255,longitude:133.665562768221},name:"Farm 1",reporting_region:"Farm 1",updated_at:"2011-06-15T10:30:00.000+08:00"},relationships:{company:{links:{self:"http://example.org/user_api/v1/farms/987614/relationships/company",related:"http://example.org/user_api/v1/farms/987614/company"}},fields:{links:{self:"http://example.org/user_api/v1/farms/987614/relationships/fields",related:"http://example.org/user_api/v1/farms/987614/fields"}}}},987615:{id:"987615",type:"farms",links:{self:"http://example.org/user_api/v1/farms/987615"},attributes:{company_id:987124,created_at:"2011-06-15T10:30:00.000+08:00",description:"Vineyard",location:{number:null,street:null,suburb:null,city:null,county:null,state:"Western Australia",postcode:null,country:"Australia",latitude:-29.0779350143255,longitude:133.665562768221},name:"Farm 1",reporting_region:"Farm 1",updated_at:"2011-06-15T10:30:00.000+08:00"},relationships:{company:{links:{self:"http://example.org/user_api/v1/farms/987615/relationships/company",related:"http://example.org/user_api/v1/farms/987615/company"}},fields:{links:{self:"http://example.org/user_api/v1/farms/987615/relationships/fields",related:"http://example.org/user_api/v1/farms/987615/fields"}}}},987619:{id:"987619",type:"farms",links:{self:"http://example.org/user_api/v1/farms/987619"},attributes:{company_id:987124,created_at:"2011-06-15T10:30:00.000+08:00",description:"Pasture",location:{number:null,street:null,suburb:null,city:null,county:null,state:"Western Australia",postcode:null,country:"Australia",latitude:-29.0779350143255,longitude:133.665562768221},name:"Farm 1",reporting_region:"Farm 1",updated_at:"2011-06-15T10:30:00.000+08:00"},relationships:{company:{links:{self:"http://example.org/user_api/v1/farms/987619/relationships/company",related:"http://example.org/user_api/v1/farms/987619/company"}},fields:{links:{self:"http://example.org/user_api/v1/farms/987619/relationships/fields",related:"http://example.org/user_api/v1/farms/987619/fields"}}}}})}),200+800*Math.random())}(d.id,_),k(!1)),C&&d&&(!function(e,t){setTimeout((function(e){t({987654:{id:"987654",type:"fields",links:{self:"http://example.org/user_api/v1/fields/987654"},attributes:{application_cost:null,area:null,boundary:null,chemical_cost:null,contractor_cost:null,created_at:"2011-06-15T10:30:00.000+08:00",crops:null,cropping_method:"dryland",description:"Potatoes",farm_id:987613,fertilizer_cost:null,field_group_id:987613,gross_margin:null,harvested_area:null,harvested_weight:null,harvest_date:null,irrigation:"Pivot",name:"Field 1",other_cost:null,other_income:null,plant_spacing:"15 cm",planting_date:null,row_spacing:"20 cm",season_id:null,seed_cost:null,updated_at:"2011-06-15T10:30:00.000+08:00",weatherStation:"IDW60801/IDW60801.95632",yield_price:null},relationships:{farm:{links:{self:"http://example.org/user_api/v1/fields/987654/relationships/farm",related:"http://example.org/user_api/v1/fields/987654/farm"}}}},987655:{id:"987655",type:"fields",links:{self:"http://example.org/user_api/v1/fields/987655"},attributes:{application_cost:null,area:null,boundary:null,chemical_cost:null,contractor_cost:null,created_at:"2011-06-15T10:30:00.000+08:00",crops:null,cropping_method:"dryland",description:"Tomatoes",farm_id:987613,fertilizer_cost:null,field_group_id:987613,gross_margin:null,harvested_area:null,harvested_weight:null,harvest_date:null,irrigation:"Pivot",name:"Field 1",other_cost:null,other_income:null,plant_spacing:"15 cm",planting_date:null,row_spacing:"20 cm",season_id:null,seed_cost:null,updated_at:"2011-06-15T10:30:00.000+08:00",weatherStation:"",yield_price:null},relationships:{farm:{links:{self:"http://example.org/user_api/v1/fields/987655/relationships/farm",related:"http://example.org/user_api/v1/fields/987655/farm"}}}},987656:{id:"987656",type:"fields",links:{self:"http://example.org/user_api/v1/fields/987656"},attributes:{application_cost:null,area:null,boundary:null,chemical_cost:null,contractor_cost:null,created_at:"2011-06-15T10:30:00.000+08:00",crops:null,cropping_method:"dryland",description:"Avocados",farm_id:987614,fertilizer_cost:null,field_group_id:987613,gross_margin:null,harvested_area:null,harvested_weight:null,harvest_date:null,irrigation:"Pivot",name:"Field 1",other_cost:null,other_income:null,plant_spacing:"15 cm",planting_date:null,row_spacing:"20 cm",season_id:null,seed_cost:null,updated_at:"2011-06-15T10:30:00.000+08:00",weatherStation:"IDW60801/IDW60801.95611",yield_price:null},relationships:{farm:{links:{self:"http://example.org/user_api/v1/fields/987656/relationships/farm",related:"http://example.org/user_api/v1/fields/987656/farm"}}}},987657:{id:"987657",type:"fields",links:{self:"http://example.org/user_api/v1/fields/987657"},attributes:{application_cost:null,area:null,boundary:null,chemical_cost:null,contractor_cost:null,created_at:"2011-06-15T10:30:00.000+08:00",crops:null,cropping_method:"dryland",description:"Oranges",farm_id:987614,fertilizer_cost:null,field_group_id:987613,gross_margin:null,harvested_area:null,harvested_weight:null,harvest_date:null,irrigation:"Pivot",name:"Field 1",other_cost:null,other_income:null,plant_spacing:"15 cm",planting_date:null,row_spacing:"20 cm",season_id:null,seed_cost:null,updated_at:"2011-06-15T10:30:00.000+08:00",weatherStation:"IDW60801/IDW60801.95621",yield_price:null},relationships:{farm:{links:{self:"http://example.org/user_api/v1/fields/987657/relationships/farm",related:"http://example.org/user_api/v1/fields/987657/farm"}}}},987658:{id:"987658",type:"fields",links:{self:"http://example.org/user_api/v1/fields/987658"},attributes:{application_cost:null,area:null,boundary:null,chemical_cost:null,contractor_cost:null,created_at:"2011-06-15T10:30:00.000+08:00",crops:null,cropping_method:"dryland",description:"Olives",farm_id:987614,fertilizer_cost:null,field_group_id:987613,gross_margin:null,harvested_area:null,harvested_weight:null,harvest_date:null,irrigation:"Pivot",name:"Field 1",other_cost:null,other_income:null,plant_spacing:"15 cm",planting_date:null,row_spacing:"20 cm",season_id:null,seed_cost:null,updated_at:"2011-06-15T10:30:00.000+08:00",weatherStation:"IDW60801/IDW60801.95641",yield_price:null},relationships:{farm:{links:{self:"http://example.org/user_api/v1/fields/987658/relationships/farm",related:"http://example.org/user_api/v1/fields/987658/farm"}}}},987659:{id:"987659",type:"fields",links:{self:"http://example.org/user_api/v1/fields/987659"},attributes:{application_cost:null,area:null,boundary:null,chemical_cost:null,contractor_cost:null,created_at:"2011-06-15T10:30:00.000+08:00",crops:null,cropping_method:"dryland",description:"Sauvignon Blanc",farm_id:987615,fertilizer_cost:null,field_group_id:987613,gross_margin:null,harvested_area:null,harvested_weight:null,harvest_date:null,irrigation:"Pivot",name:"Field 1",other_cost:null,other_income:null,plant_spacing:"15 cm",planting_date:null,row_spacing:"20 cm",season_id:null,seed_cost:null,updated_at:"2011-06-15T10:30:00.000+08:00",weatherStation:"IDW60801/IDW60801.95641",yield_price:null},relationships:{farm:{links:{self:"http://example.org/user_api/v1/fields/987659/relationships/farm",related:"http://example.org/user_api/v1/fields/987659/farm"}}}}})}),200+800*Math.random())}(d.id,v),D(!1)),t=d&&j&&x?Object(o.jsx)(O,{title:a,userName:s,thumbURL:n,company:d,farms:j,fields:x}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(m,{title:a,companyName:"",thumbURL:n}),Object(o.jsx)("div",{className:"Loading",children:"Loading..."})]}),Object(o.jsx)(o.Fragment,{children:t})}y.propTypes={title:p.a.string,userId:p.a.number,userName:p.a.string,thumbURL:p.a.string};var F=y;a(14);var N=function(){var e,t="Agworld Accessory",a=Object(r.useState)(),l=Object(c.a)(a,2),s=l[0],n=l[1],i=Object(r.useState)("Example User"),d=Object(c.a)(i,2),p=d[0],m=d[1],h=Object(r.useState)("Example User"),b=Object(c.a)(h,2),j=b[0],_=b[1];return e=s?Object(o.jsx)(F,{title:t,userId:s,userName:p,thumbURL:j}):Object(o.jsx)(u,{title:t,setUserId:n,userName:p,setUserName:m,setThumbURL:_}),Object(o.jsx)("div",{className:"App",children:e})};n.a.render(Object(o.jsx)(l.a.StrictMode,{children:Object(o.jsx)(N,{})}),document.getElementById("root")),i()}},[[15,1,2]]]);
//# sourceMappingURL=main.fd38509c.chunk.js.map